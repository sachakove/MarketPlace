(this["webpackJsonpmarket-place"]=this["webpackJsonpmarket-place"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={adressesPaymentInfo:"UserInfo_adressesPaymentInfo__16-Tb",infoBox:"UserInfo_infoBox__1l7n1",infoContext:"UserInfo_infoContext__3g3RZ",infoContentBox:"UserInfo_infoContentBox__1a1Iu",infoContet:"UserInfo_infoContet__3UiC7",btnEdit:"UserInfo_btnEdit__2W9un"}},,,,,,function(e,t,n){e.exports={header:"Header_header__1WZaI",centered:"Header_centered__1ohDi",links:"Header_links__1LmRn",link:"Header_link__1f88n",accountHeader:"Header_accountHeader__ildFe",onNav:"Header_onNav__-f2vY",logo:"Header_logo__2k4Ou",profile:"Header_profile__Fw8Mb"}},,,function(e,t,n){e.exports={navBox:"MainNavigation_navBox__mKex-",category:"MainNavigation_category__2glP9",categoryBox:"MainNavigation_categoryBox__16v9D",link:"MainNavigation_link__3UVgS",iconBoxLeft:"MainNavigation_iconBoxLeft__1ERtd",iconBoxRight:"MainNavigation_iconBoxRight__2U8xR",icon:"MainNavigation_icon__3RYFc",iconRight:"MainNavigation_iconRight__15bVN"}},function(e,t,n){e.exports={itemContainer:"ItemSpec_itemContainer__S7_6X",itemContainerLeft:"ItemSpec_itemContainerLeft__kcT1G",itemContainerRight:"ItemSpec_itemContainerRight__2eq21","itemContainerRight--top":"ItemSpec_itemContainerRight--top__17o8T","itemContainerRight--price":"ItemSpec_itemContainerRight--price__1Bcob","itemContainerRight--description":"ItemSpec_itemContainerRight--description__1Vjrm","itemContainerRight--bottom":"ItemSpec_itemContainerRight--bottom__11VKl",quantityBox:"ItemSpec_quantityBox__32_oz",itemBtn:"ItemSpec_itemBtn__2tDlk",exitIcon:"ItemSpec_exitIcon__2H51_"}},function(e,t,n){e.exports={accountHeader:"AccountHeader_accountHeader__3blh4",user:"AccountHeader_user__3AcQ2",userInfo:"AccountHeader_userInfo__1i_dh",userName:"AccountHeader_userName__1woKj","slide-down":"AccountHeader_slide-down__GYCMm",userEmail:"AccountHeader_userEmail__VmX1N",userNameInput:"AccountHeader_userNameInput__UATMN",userEmailInput:"AccountHeader_userEmailInput__3kD1K",btnEditAccout:"AccountHeader_btnEditAccout__2uS1j"}},function(e,t,n){e.exports={container:"ProfileDrop_container__3CWYO",top:"ProfileDrop_top____Bz2",content:"ProfileDrop_content__3Ztwf",dropDownBtn:"ProfileDrop_dropDownBtn__2bLHz",bottom:"ProfileDrop_bottom__2EnXI"}},function(e,t,n){e.exports={centered:"AuthForm_centered__2gkeZ",logoBox:"AuthForm_logoBox__1oBQp",logo:"AuthForm_logo__3ifS1",title:"AuthForm_title__bP28q",inputBox:"AuthForm_inputBox__1XDMo",authBtn:"AuthForm_authBtn__1GJVK",authBottomText:"AuthForm_authBottomText__1XQvZ",error:"AuthForm_error__JkQOX"}},function(e,t,n){e.exports={cartContent:"CartItem_cartContent__3g-x2",cartItem:"CartItem_cartItem__3SH19",cartItemTop:"CartItem_cartItemTop__2D66m",itemContent:"CartItem_itemContent__jFbyV",price:"CartItem_price__3L-8Y",cartItemBottom:"CartItem_cartItemBottom__1BzQP",quantityBox:"CartItem_quantityBox__34gfG"}},function(e,t,n){e.exports={search:"Search_search__1CLIO",searchBox:"Search_searchBox__3DqGE",searchIcon:"Search_searchIcon__2G2N_",smallScreen:"Search_smallScreen__3lFoG",searchIconSmallScreen:"Search_searchIconSmallScreen__1tGjK",searchIconActive:"Search_searchIconActive__1Xzjb",activeBox:"Search_activeBox__2mcKN",expand:"Search_expand__X0RAG"}},function(e,t,n){e.exports={sideMenu:"SideMenu_sideMenu__3FurH",categoryBox:"SideMenu_categoryBox__3hcCi",categoryTop:"SideMenu_categoryTop__2p2aC",sideSubCategoryName:"SideMenu_sideSubCategoryName__2Ff75",active:"SideMenu_active__3nLKC",activeMenu:"SideMenu_activeMenu__1z-Z4",inactive:"SideMenu_inactive__1OxLv",disactiveMenu:"SideMenu_disactiveMenu__220ca"}},function(e,t,n){e.exports={buttonContainer:"MenuButton_buttonContainer__3K_JE",bar1:"MenuButton_bar1__OXvBY",bar2:"MenuButton_bar2__2Ze6c",bar3:"MenuButton_bar3__1VWdd",change:"MenuButton_change__1CPDj"}},,function(e,t,n){e.exports={itemsSection:"Section_itemsSection__twNHp",top:"Section_top__1xoZz",top_title:"Section_top_title__HZBCs",categoryHr:"Section_categoryHr__2gJgC",link:"Section_link__2pxZM",content:"Section_content__1Y9b1"}},function(e,t,n){e.exports={container:"RecentOrders_container__1bpyl",ordersContainer:"RecentOrders_ordersContainer__3A7ID",ordersContainerTop:"RecentOrders_ordersContainerTop__LSJGw",orderInfo:"RecentOrders_orderInfo__uLg1Z",orderItem:"RecentOrders_orderItem__3Oq8w",itemSpec:"RecentOrders_itemSpec__2gDZh"}},function(e,t,n){e.exports={container:"ShopContent_container__3zUHm",top:"ShopContent_top__1iMTM",categoryHr:"ShopContent_categoryHr__1aimH",topSub:"ShopContent_topSub__szo9a",top_title:"ShopContent_top_title__oaNit",mainContent:"ShopContent_mainContent__3kApi"}},,function(e,t,n){e.exports={container:"Cart_container__3Pv7F",top:"Cart_top__3ww_9",cartItems:"Cart_cartItems__Qy8C8",bottom:"Cart_bottom__wQK3o",btnCheckout:"Cart_btnCheckout__ddvKc"}},function(e,t,n){e.exports={itemCard:"ItemCard_itemCard__PNDOs",top:"ItemCard_top__3rX9k",itemName:"ItemCard_itemName__19n5y",itemPrice:"ItemCard_itemPrice__2j7z5",itemAddBtn:"ItemCard_itemAddBtn__1kOGs"}},,,function(e,t,n){e.exports={footer:"Footer_footer__dsW9O",footerContent:"Footer_footerContent__8cOXJ"}},,,,function(e,t,n){e.exports={backdrop:"Modal_backdrop__2fRtm",modal:"Modal_modal__xW6Ga","slide-down":"Modal_slide-down__2az5j"}},function(e,t,n){e.exports={button:"CartButton_button__qIOhT",badge:"CartButton_badge__eY5mE"}},function(e,t,n){e.exports={section:"Ads_section__1wIZS",firstAdd:"Ads_firstAdd__wlz_G",slideAdds:"Ads_slideAdds__1vha2",slide:"Ads_slide__3IsWw"}},,,,,,function(e,t,n){e.exports={input:"Input_input__j4DCQ"}},function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2CmmU"}},function(e,t,n){e.exports={container:"MainProfile_container__1WWEP"}},function(e,t,n){e.exports={infoContet:"UserInfoForm_infoContet__17MIo"}},,,,,function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(9),c=n(26),s=n.n(c),i=(n(55),n(6)),o=n(4),l=n(3),u=n(7),d=n.n(u),j=n(15),m=n(2),b=n(10),p=Object(b.b)({name:"modal",initialState:{showModalAuth:!1,showModalCart:!1,showModalItem:!1,showModalProfile:!1,showModalSearch:!1},reducers:{showModalAuth:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showModalAuth:!0})},showModalCart:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showModalCart:!0})},showModalItem:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showModalItem:!0})},showModalProfile:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showModalProfile:!0})},showModalSearch:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showModalSearch:!0})},hideModal:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showModalAuth:!1,showModalCart:!1,showModalItem:!1,showModalProfile:!1,showModalSearch:!1})}}}),h=p.actions,O=p.reducer,g=n(39),f=n.n(g),_=n(0),x=function(e){return Object(_.jsx)("div",{className:f.a.backdrop,onClick:e.onHideModal})},v=function(e){var t=e.auth?{width:"40%",left:"30%"}:null;return Object(_.jsx)("div",{className:f.a.modal,style:t||null,children:Object(_.jsx)("div",{className:f.a.content,children:e.children})})},C=function(e){var t=Object(l.b)();return Object(_.jsxs)(a.Fragment,{children:[s.a.createPortal(Object(_.jsx)(x,{onHideModal:function(){t(h.hideModal())}}),document.getElementById("overlays")),s.a.createPortal(Object(_.jsx)(v,{auth:e.auth,children:e.children}),document.getElementById("overlays"))]})},y=n(21),N=n.n(y),S=n.p+"static/media/logo.5843edf5.png",w=n.p+"static/media/exist.2c6a7861.svg",I=n(47),A=n.n(I),k=function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),r=n[0],c=n[1],s=e.errors,i=e.input.name;return Object(a.useEffect)((function(){s[i]?c(!1):c(!0)}),[s,i]),Object(_.jsx)("div",{className:A.a.input,children:r?Object(_.jsx)("input",Object(m.a)({},e.input)):Object(_.jsx)("input",Object(m.a)(Object(m.a)({},e.input),{},{style:{borderColor:"#ef9a9a",backgroundColor:"#ffcdd2"}}))})},M=n(48),B=n.n(M),P=function(){return Object(_.jsx)("div",{className:B.a.spinner})},L=Object(b.b)({name:"auth",initialState:{user:null,isLoggedIn:!1,token:null,status:null,error:null},reducers:{send:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:"pending",error:null})},success:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:"completed",error:null})},error:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:"completed",error:t.payload})},resetErrors:function(e){return Object(m.a)(Object(m.a)({},e),{},{error:null})},checkLoggedIn:function(e,t){var n=localStorage.getItem("isLoggedIn");return Object(m.a)(Object(m.a)({},e),{},{isLoggedIn:!!n,token:n})},login:function(e,t){return localStorage.setItem("isLoggedIn",t.payload.token),console.log(t.payload),Object(m.a)(Object(m.a)({},e),{},{isLoggedIn:!0,user:t.payload})},register:function(e,t){var n=t.payload;return localStorage.setItem("isLoggedIn",n.token),Object(m.a)(Object(m.a)({},e),{},{isLoggedIn:!0,user:n})},logout:function(e,t){return localStorage.removeItem("isLoggedIn"),Object(m.a)(Object(m.a)({},e),{},{isLoggedIn:!1,user:null})},getUserDetails:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{user:t.payload})},updateUserContact:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{user:t.payload})}}}),H=L.actions,E=L.reducer,R=n(38),D=function(e,t){return{url:"/api/users/",method:"POST",body:{email:e,password:t},headers:{"Content-Type":"application/json"}}},q=function(e){return{url:"api/products/byCategory/".concat(e)}},F=function(e){return{url:"/api/products/search/".concat(e)}},Z=function(e){var t=e.token,n=e.firstName,a=e.lastName,r=e.email,c=e.billingAddress,s=e.shippingAddress,i=e.payment;return{url:"/api/users/profile",method:"PATCH",body:{firstName:n||null,lastName:a||null,email:r||null,billingAddress:c||null,shippingAddress:s||null,payment:i||null},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}},T=function(e){var t=e.token;return{url:"/api/orders/",method:"POST",body:{order:e.order},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}},G=Object(b.b)({name:"http",initialState:{status:null,error:null},reducers:{send:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:"pending",error:null})},success:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:"completed",error:null})},error:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:"completed",error:t.payload})}}}),z=G.actions,U=G.reducer,W=Object(b.b)({name:"product",initialState:{mainProducts:null,categories:null,subCategories:null,items:null,item:null},reducers:{getCategories:function(e,t){return Y(e,t)},getSubCategories:function(e,t){return K(e,t)},getMainProducts:function(e,t){return V(e,t)},getItems:function(e,t){return X(e,t)},getItem:function(e,t){return console.log("here"),Object(m.a)(Object(m.a)({},e),{},{item:t.payload})},clearItems:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{items:null})}}}),Y=function(e,t){e.categories=t.payload},K=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{subCategories:t.payload})},V=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{mainProducts:t.payload})},X=function(e,t){return e.items=null,Object(m.a)(Object(m.a)({},e),{},{items:t.payload})},Q=W.actions,J=W.reducer,$=Object(b.b)({name:"order",initialState:{orders:null},reducers:{getOrders:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{orders:t.payload})},getOrderItems:function(e,t){return ee(e,t)}}}),ee=function(e,t){},te=$.actions,ne=$.reducer,ae=function(){var e=Object(l.b)();return{sendRequest:Object(a.useCallback)(function(){var t=Object(j.a)(d.a.mark((function t(n,a){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("login"===a||"register"===a?(console.log("this is requestData: ".concat(a)),e(H.send())):e(z.send()),"checkLog"!==a){t.next=6;break}e(H.checkLoggedIn()),e(z.success()),t.next=64;break;case 6:if("clearItems"!==a){t.next=11;break}e(Q.clearItems()),e(z.success()),t.next=64;break;case 11:return t.prev=11,t.next=14,fetch(n.url,{method:n.method?n.method:"GET",body:n.body?JSON.stringify(n.body):null,headers:n.headers?n.headers:{}});case 14:if((r=t.sent).ok){t.next=19;break}return t.next=18,r.json();case 18:throw t.sent;case 19:return t.next=21,r.json();case 21:c=t.sent,t.t0=a.split(" ")[0],t.next="login"===t.t0?25:"register"===t.t0?28:"categories"===t.t0?31:"mainProducts"===t.t0?34:"subCategories"===t.t0?37:"items"===t.t0?40:"item"===t.t0?44:"userDetails"===t.t0?47:"updateContact"===t.t0?50:"newOrder"===t.t0?53:"getOrders"===t.t0?55:"orderItems"===t.t0?57:58;break;case 25:return e(H.login(c)),e(H.success()),t.abrupt("return");case 28:return e(H.register(c)),e(H.success()),t.abrupt("return");case 31:return e(Q.getCategories(c)),e(z.success()),t.abrupt("return");case 34:return e(Q.getMainProducts(c)),e(z.success()),t.abrupt("return");case 37:return e(Q.getSubCategories(c)),e(z.success()),t.abrupt("return");case 40:return console.log("here2"),e(Q.getItems(c)),e(z.success()),t.abrupt("return");case 44:return e(Q.getItem(c)),e(z.success()),t.abrupt("return");case 47:return e(H.getUserDetails(c)),e(z.success()),t.abrupt("return");case 50:return e(H.updateUserContact(c)),e(z.success()),t.abrupt("return");case 53:return e(z.success()),t.abrupt("return");case 55:return e(te.getOrders(c)),t.abrupt("return");case 57:return t.abrupt("return",console.log(c));case 58:return t.abrupt("return",e(z.success()));case 59:t.next=64;break;case 61:t.prev=61,t.t1=t.catch(11),e(H.error(t.t1.message||"Somthing went wrong, please try again"));case 64:case"end":return t.stop()}}),t,null,[[11,61]])})));return function(e,n){return t.apply(this,arguments)}}(),[e])}},re=function(e){var t=ae().sendRequest,n=Object(l.c)((function(e){return e.auth})).token,r=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",password2:"",shippingAddressStreet:"",shippingAddressCity:"",shippingAddressCountry:"",shippingAddressZip:"",billingAddressStreet:"",billingAddressCity:"",billingAddressCountry:"",billingAddressZip:"",name:"",creditNumber:"",expiry:""}),c=Object(o.a)(r,2),s=c[0],i=c[1],u=Object(a.useState)({}),b=Object(o.a)(u,2),p=b[0],h=b[1];return{handleChange:function(t){var n=t.target,a=n.name,r=n.value;h(e(s)),i(Object(m.a)(Object(m.a)({},s),{},Object(R.a)({},a,r)))},handleSubmit:function(){var a=Object(j.a)(d.a.mark((function a(r,c){var i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),h(e(s)),"billingAddress"!==c){a.next=7;break}return i={street:s.billingAddressStreet,city:s.billingAddressCity,country:s.billingAddressCountry,zip:s.billingAddressZip},a.next=7,t(Z({token:n,billingAddress:i}),"updateContact");case 7:if("login"!==c){a.next=18;break}if(o="Invalid email or password",p.email||p.password){a.next=16;break}return a.next=13,t((u=s.email,d=s.password,{url:"/api/users/login",method:"POST",body:{email:u,password:d},headers:{"Content-Type":"application/json"}}),"login");case 13:a.t0=a.sent,a.next=17;break;case 16:a.t0=o;case 17:return a.abrupt("return",a.t0);case 18:if("register"!==c){a.next=28;break}if(l="Invalid email or password",p.email||p.password||p.password2){a.next=26;break}return a.next=23,t(D(s.email,s.password),"register");case 23:a.t1=a.sent,a.next=27;break;case 26:a.t1=l;case 27:return a.abrupt("return",a.t1);case 28:case"end":return a.stop()}var u,d}),a)})));return function(e,t){return a.apply(this,arguments)}}(),values:s,errors:p}};function ce(e){var t={};return e.firstName.trim()||(t.firstName="First name required"),e.lastName.trim()||(t.lastName="Last name required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid",console.log(e.email)):(console.log(e.email),t.email="Email required"),e.password?e.password.length<5&&(t.password="Password needs to be 6 characters or more"):t.password="Password is required",e.password2?e.password2!==e.password&&(console.log(e.password2),t.password2="Passwords do not match"):t.password2="Password is required",e.billingAddressStreet.trim()||(t.billingAddressStreet="Street required"),e.billingAddressCity.trim()||(t.billingAddressCity="City required"),e.billingAddressCountry.trim()||(t.billingAddressCountry="Country required"),e.billingAddressZip.trim()||(t.billingAddressZip="Zip code required"),e.shippingAddressStreet.trim()||(t.shippingAddressStreet="Street required"),e.shippingAddressCity.trim()||(t.shippingAddressCity="City required"),e.shippingAddressCountry.trim()||(t.shippingAddressCountry="Country required"),e.shippingAddressZip.trim()||(t.shippingAddressZip="Zip code required"),e.name.trim()||(t.name="Name required"),e.creditNumber.trim()||(t.creditNumber="Credit number required"),e.expiry.trim()||(t.expiry="Expiry date required"),t}var se=function(e){var t=Object(a.useState)(e.onLogin),n=Object(o.a)(t,2),r=n[0],c=n[1],s=re(ce),i=s.handleChange,u=s.handleSubmit,m=s.values,b=s.errors,p=Object(a.useState)(""),O=Object(o.a)(p,2),g=O[0],f=O[1],x=Object(l.c)((function(e){return e.auth})),v=x.error,y=x.status,I=x.user,A=Object(l.b)();Object(a.useEffect)((function(){I&&A(h.hideModal()),null!==v&&f(v),console.log(m.password2)}),[v,I,A,g,m.password2]);var M=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r){e.next=8;break}return e.next=4,u(t,"login");case 4:n=e.sent,f("Invalid email or password"===n?n:null),e.next=12;break;case 8:return e.next=10,u(t,"register");case 10:a=e.sent,f("Invalid email or password"===a?a:null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(C,{auth:!0,children:Object(_.jsxs)("div",{className:N.a.centered,children:[Object(_.jsx)("img",{src:w,alt:"",style:{alignSelf:"flex-end"},onClick:function(){return A(h.hideModal())}}),Object(_.jsx)("span",{className:N.a.logoBox,children:Object(_.jsx)("img",{src:S,alt:"MarketPlace",className:N.a.logo})}),Object(_.jsx)("span",{children:Object(_.jsx)("h1",{className:N.a.title,children:r?"Login To Your Account":"Create An Account"})}),"pending"!==y||v?Object(_.jsxs)("form",{className:N.a.inputBox,onSubmit:M,children:[Object(_.jsx)(k,{errors:b,input:{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:i,onFocus:function(){A(H.resetErrors())}}}),Object(_.jsx)(k,{errors:b,input:{type:"password",name:"password",placeholder:"Password",minLength:"6",maxLength:"9",value:m.password,onChange:i}}),!r&&Object(_.jsx)(k,{errors:b,input:{type:"password",name:"password2",placeholder:"Confirm Password",minLength:"6",maxLength:"9",value:m.password2,onChange:i}}),""!==g||v?Object(_.jsx)("p",{style:{color:"red",fontSize:"1.5rem",letterSpacing:".2rem"},children:g||v}):Object(_.jsx)("p",{}),Object(_.jsx)("button",{className:N.a.authBtn,type:"submit",children:r?"Login":"Sign Up"})]}):Object(_.jsx)(P,{}),Object(_.jsx)("span",{className:N.a.authBottomText,children:Object(_.jsx)("span",{onClick:function(){c(!r),f(null),A(H.resetErrors())},children:r?"Create an account":"Already have an account? Login"})})]})})},ie=n(31),oe=n.n(ie),le=n(22),ue=n.n(le),de=n.p+"static/media/add.4f1cfa10.svg",je=n.p+"static/media/decrease.aaa23880.svg",me=n(46),be=Object(b.b)({name:"cart",initialState:{items:[],totalAmount:0,totalPrice:0,Date:null},reducers:{addItem:function(e,t){he(e,t)},removeItem:function(e,t){Oe(e,t)},cehckOut:function(e,t){pe(e,t)}}}),pe=function(e,t){var n=new Date;console.log("".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear())),console.log("this is items: ".concat(e.items))},he=function(e,t){e.totalAmount=e.totalAmount+t.payload.amount;var n=Object(me.a)(e.items),a=e.items.findIndex((function(e){return t.payload._id===e._id}));if(-1!==a){var r=Object(m.a)(Object(m.a)({},n[a]),{},{amount:n[a].amount+t.payload.amount,total:n[a].total+t.payload.amount*n[a].price});return e.totalPrice=e.totalPrice+t.payload.amount*n[a].price,n[a]=r,e.items=n}var c=t.payload.price*t.payload.amount;return e.totalPrice=e.totalPrice+c,e.items.push(Object(m.a)(Object(m.a)({},t.payload),{},{total:c}))},Oe=function(e,t){e.totalAmount--;var n=Object(me.a)(e.items),a=e.items.findIndex((function(e){return t.payload===e._id}));if(-1!==a){if(1!==n[a].amount){var r=Object(m.a)(Object(m.a)({},n[a]),{},{amount:n[a].amount-1,total:n[a].total-n[a].price});return e.totalPrice=e.totalPrice-r.price,n[a]=r,e.items=n}return e.totalPrice=e.totalPrice-n[a].price,e.items=n.filter((function(e){return e._id!==n[a]._id}))}return e.items},ge=be.actions,fe=be.reducer,_e=function(e){var t=Object(l.b)();return Object(_.jsx)("div",{className:ue.a.cartContent,children:Object(_.jsxs)("div",{className:ue.a.cartItem,children:[Object(_.jsxs)("div",{className:ue.a.cartItemTop,children:[Object(_.jsx)("img",{src:e.item.image,alt:""}),Object(_.jsxs)("span",{className:ue.a.itemContent,children:[Object(_.jsx)("span",{children:e.item.name}),Object(_.jsxs)("span",{className:ue.a.price,children:["$",e.item.total.toFixed(2)]})]})]}),Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{className:ue.a.cartItemBottom,children:[Object(_.jsx)("span",{children:"Quantity"}),Object(_.jsxs)("div",{className:ue.a.quantityBox,children:[Object(_.jsx)("img",{src:je,alt:"",onClick:function(){t(ge.removeItem(e.item._id))}}),Object(_.jsx)("span",{children:e.item.amount}),Object(_.jsx)("img",{src:de,alt:"",onClick:function(){t(ge.addItem(Object(m.a)(Object(m.a)({},e.item),{},{amount:1})))}})]})]})]})})},xe=function(e){var t=Object(l.c)((function(e){return e.cart})),n=t.items,a=t.totalPrice,r=Object(l.c)((function(e){return e.auth})).token,c=n.map((function(e){return Object(_.jsx)(_e,{item:e})})),s=Object(l.b)(),i=ae().sendRequest,o=new Date,u="".concat(o.getDate(),"/").concat(o.getMonth()+1,"/").concat(o.getFullYear()),m=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.map((function(e){return{_id:e._id,amount:e.amount,total:e.total}})),i(T({token:r,order:{date:u,totalPrice:a,items:t,status:"Deliverd"}}),"newOrder"),b();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){s(h.hideModal())};return Object(_.jsxs)("div",{className:oe.a.container,children:[Object(_.jsxs)("div",{className:oe.a.top,children:[Object(_.jsxs)("span",{children:["Cart Price: $",a.toFixed(2)]}),Object(_.jsx)("img",{src:w,alt:"",onClick:b})]}),n&&Object(_.jsx)("div",{className:oe.a.cartItems,children:c}),Object(_.jsx)("div",{className:oe.a.bottom,children:Object(_.jsx)("button",{className:oe.a.btnCheckout,onClick:m,children:"Checkout"})})]})},ve=n(20),Ce=n.n(ve),ye=void 0,Ne=function(e){var t=Object(l.b)(),n=Object(l.c)((function(e){return e.auth})).isLoggedIn,a=function(n){t(h.hideModal()),t(h.showModalAuth()),e.login(n)};return Object(_.jsxs)("div",{className:Ce.a.container,children:[Object(_.jsx)("span",{className:Ce.a.top,children:Object(_.jsx)("img",{src:w,alt:"",onClick:function(){t(h.hideModal())}})}),Object(_.jsx)("div",{className:Ce.a.content,children:n?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(r.c,{to:"/profile",style:{width:"100%"},children:Object(_.jsx)("button",{className:Ce.a.dropDownBtn,onClick:function(){return t(h.hideModal())},children:"Profile"})}),Object(_.jsx)("button",{className:Ce.a.dropDownBtn,onClick:function(){return t(H.logout())},children:"Logout"})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{className:Ce.a.dropDownBtn,onClick:a.bind(ye,!0),children:"Login"}),Object(_.jsx)("button",{className:Ce.a.dropDownBtn,onClick:a.bind(ye,!1),children:"Register"})]})}),Object(_.jsx)("span",{className:Ce.a.bottom})]})},Se=n(35),we=n.n(Se),Ie=function(){return Object(_.jsx)("footer",{className:we.a.footer,children:Object(_.jsxs)("div",{className:we.a.logoBox,children:[Object(_.jsx)("img",{src:S,alt:""}),Object(_.jsxs)("div",{className:we.a.footerContent,children:[Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{})]}),Object(_.jsx)("span",{className:we.a.rights})]})})},Ae=n(14),ke=n.n(Ae),Me=n.p+"static/media/Logo@2x.541b691a.png",Be=n.p+"static/media/user-circle.cb0162dc.svg",Pe=n(40),Le=n.n(Pe),He=function(){return Object(_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:[Object(_.jsx)("defs",{children:Object(_.jsx)("clipPath",{id:"clip-path",children:Object(_.jsx)("rect",{id:"Rectangle_10","data-name":"Rectangle 10",width:"20",height:"20",transform:"translate(1746 30)",fill:"#fff",stroke:"#707070","stroke-width":"1"})})}),Object(_.jsx)("g",{id:"Mask_Group_2","data-name":"Mask Group 2",transform:"translate(-1746 -30)","clip-path":"url(#clip-path)",children:Object(_.jsxs)("g",{id:"shopping-cart_1_","data-name":"shopping-cart (1)",transform:"translate(1746 30)",children:[Object(_.jsx)("g",{id:"Group_12","data-name":"Group 12",children:Object(_.jsx)("g",{id:"Group_11","data-name":"Group 11",children:Object(_.jsx)("path",{id:"Path_5","data-name":"Path 5",d:"M19.917,3.5a.433.433,0,0,0-.333-.167H3.75L3.333,1.167c0-.167-.25-.333-.417-.333H.417A.394.394,0,0,0,0,1.25a.394.394,0,0,0,.417.417H2.583l2,10.167a2.936,2.936,0,0,0,2.833,2.333H17a.417.417,0,0,0,0-.833H7.5a1.921,1.921,0,0,1-1.667-.917L18,10.75a.358.358,0,0,0,.333-.333L20,3.75A.411.411,0,0,0,19.917,3.5ZM17.583,10,5.417,11.583l-1.5-7.5H19Z"})})}),Object(_.jsx)("g",{id:"Group_14","data-name":"Group 14",children:Object(_.jsx)("g",{id:"Group_13","data-name":"Group 13",children:Object(_.jsx)("path",{id:"Path_6","data-name":"Path 6",d:"M7.083,15a2.083,2.083,0,1,0,2.083,2.083A2.063,2.063,0,0,0,7.083,15Zm0,3.333a1.25,1.25,0,1,1,1.25-1.25A1.282,1.282,0,0,1,7.083,18.333Z"})})}),Object(_.jsx)("g",{id:"Group_16","data-name":"Group 16",children:Object(_.jsx)("g",{id:"Group_15","data-name":"Group 15",children:Object(_.jsx)("path",{id:"Path_7","data-name":"Path 7",d:"M15.417,15A2.083,2.083,0,1,0,17.5,17.083,2.063,2.063,0,0,0,15.417,15Zm0,3.333a1.25,1.25,0,1,1,1.25-1.25A1.282,1.282,0,0,1,15.417,18.333Z"})})})]})})]})},Ee=function(e){var t=Object(l.c)((function(e){return e.cart.totalAmount})),n=Object(l.b)();return Object(_.jsxs)("button",{className:Le.a.button,onClick:function(){n(h.showModalCart())},children:[Object(_.jsx)("span",{className:Le.a.icon,children:Object(_.jsx)(He,{})}),Object(_.jsx)("span",{className:Le.a.badge,children:t})]})},Re=n.p+"static/media/Icon feather-search.9d4ceae6.svg",De=n(23),qe=n.n(De),Fe=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(i.f)(),m=ae().sendRequest,b=function(e){e.preventDefault(),r.trim()?(m(null,"clearItems"),j.push("/search/".concat(r)),c("")):j.push("/")};return Object(_.jsx)(a.Fragment,{children:Object(_.jsxs)("form",{className:qe.a.search,onSubmit:b,children:[Object(_.jsx)("img",{src:Re,alt:"search",className:"".concat(qe.a.searchIcon," ").concat(e.smallScreen?u?qe.a.searchIconActive:qe.a.searchIconSmallScreen:""),onClick:function(t){e.smallScreen?u?(b(t),d(!1)):d(!0):b(t)}}),Object(_.jsx)("input",{type:"text",placeholder:"Search",value:r,onChange:function(e){return c(e.target.value)},className:"".concat(qe.a.searchBox," ").concat(e.smallScreen?u?qe.a.activeBox:qe.a.smallScreen:"")})]})})},Ze=void 0,Te=function(e){var t=Object(l.c)((function(e){return e.auth})).isLoggedIn,n=Object(a.useState)(!1),c=Object(o.a)(n,2),s=c[0],i=c[1],u=Object(l.b)(),d=function(t){u(h.showModalAuth()),e.login(t)},j=function(){window.innerWidth<=770?i(!0):i(!1)};return Object(a.useEffect)((function(){return j(),window.addEventListener("resize",j),console.log(s),function(){return window.removeEventListener("resize",j)}}),[s]),Object(_.jsx)("header",{className:ke.a.header,children:Object(_.jsxs)("div",{className:ke.a.centered,children:[Object(_.jsx)(r.b,{to:"/",children:Object(_.jsx)("img",{src:Me,alt:"MarketPlace",className:ke.a.logo})}),Object(_.jsx)(Fe,{smallScreen:s}),t||s?t&&!s?Object(_.jsxs)("div",{className:ke.a.links,children:[Object(_.jsx)("button",{className:ke.a.link,onClick:function(){u(H.logout())},children:"Logout"}),Object(_.jsx)("span",{className:ke.a.accountHeader,children:Object(_.jsx)(r.c,{to:"/profile",className:ke.a.link,activeClassName:ke.a.onNav,children:"My Account"})})]}):Object(_.jsx)("img",{src:Be,alt:"MarketPlace",className:ke.a.profile,onClick:function(){u(h.showModalProfile())}}):Object(_.jsxs)("div",{className:ke.a.links,children:[Object(_.jsx)("button",{className:ke.a.link,onClick:d.bind(Ze,!0),children:"Login"}),Object(_.jsx)("button",{className:ke.a.link,onClick:d.bind(Ze,!1),children:"Register"})]}),Object(_.jsx)(Ee,{})]})})},Ge=function(e){var t=Object(l.c)((function(e){return e.modal})),n=Object(a.useState)(!0),r=Object(o.a)(n,2),c=r[0],s=r[1],i=function(e){s(e)};return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(Te,{login:i}),t.showModalCart&&Object(_.jsx)(xe,{}),t.showModalProfile&&Object(_.jsx)(Ne,{login:i}),t.showModalAuth&&Object(_.jsx)(se,{onLogin:c}),Object(_.jsx)("main",{children:e.children}),Object(_.jsx)(Ie,{})]})},ze=n(41),Ue=n.n(ze),We=n.p+"static/media/firstAdd.9494d3e4.png",Ye=n.p+"static/media/secondAdd.78fa62fd.png",Ke=n.p+"static/media/thirdAdd.12b42ea7.png",Ve=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=function(){window.innerWidth<=800?r(!0):r(!1)};return Object(a.useEffect)((function(){return c(),window.addEventListener("resize",c),window.removeEventListener("rezie",c)}),[]),Object(_.jsxs)("section",{className:Ue.a.section,children:[!n&&Object(_.jsx)("div",{className:Ue.a.firstAdd,children:Object(_.jsx)("img",{src:We,alt:"add1"})}),Object(_.jsxs)("div",{className:Ue.a.slideAdds,children:[Object(_.jsx)("img",{src:Ye,alt:"add2"}),Object(_.jsx)("img",{src:Ke,alt:"add3"})]})]})},Xe=n(17),Qe=n.n(Xe),Je=n.p+"static/media/arrowLeft.1a215e7f.svg",$e=n.p+"static/media/arrowRight.884b255b.svg",et=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),u=(i[0],i[1]),d=Object(a.useState)(0),j=Object(o.a)(d,2),m=j[0],b=j[1],p=window.innerWidth/100*8.333,h=Object(l.c)((function(e){return e.product.categories})),O=ae().sendRequest,g=function(){b(0),window.innerWidth<=1200?c(!0):c(!1),window.innerWidth<=770?u(!0):u(!1)};Object(a.useEffect)((function(){g(),h||O({url:"/api/products/categories"},"categories"),window.addEventListener("resize",g)}),[h,O]);var f=function(){O(null,"clearItems")},x=h?h.map((function(e){return Object(_.jsx)(r.b,{to:"/".concat(e.category),onClick:f,className:Qe.a.category,children:Object(_.jsxs)("li",{className:Qe.a.categoryBox,children:[!n&&Object(_.jsx)("img",{className:Qe.a.categoryImage,src:"data:image/png;base64,".concat(e.image),alt:"category"}),Object(_.jsx)("span",{className:Qe.a.link,children:e.category})]},e._id)})})):null;return Object(_.jsxs)("nav",{children:[Object(_.jsx)("div",{className:Qe.a.iconBoxLeft,children:Object(_.jsx)("img",{src:Je,className:Qe.a.icon,alt:"",onClick:function(){0!==m&&b(m+p)}})}),Object(_.jsx)("ul",{className:Qe.a.navBox,style:{left:"".concat(m,"px")},children:x}),Object(_.jsx)("div",{className:Qe.a.iconBoxRight,children:Object(_.jsx)("img",{src:$e,className:"".concat(Qe.a.icon," ").concat(Qe.a.iconRight),alt:"",onClick:function(){(window.innerWidth/6).toString().split(".")[0]>-(m-1).toString().split(".")[0]&&b(m-p)}})})]})},tt=n(27),nt=n.n(tt),at=n(32),rt=n.n(at),ct=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),u=i[0],d=i[1],j=Object(l.b)();return Object(_.jsxs)("div",{className:rt.a.itemCard,onMouseEnter:function(e){c(!0)},onMouseLeave:function(e){c(!1)},children:[Object(_.jsx)("div",{className:rt.a.top,onClick:function(){j(h.showModalItem()),e.showItem(e.item)},children:Object(_.jsx)("img",{src:"".concat(e.item.image),alt:"item"})}),Object(_.jsx)("span",{className:rt.a.itemName,children:e.item.name}),Object(_.jsxs)("span",{className:rt.a.itemPrice,children:["$",e.item.price.toFixed(2)]}),r&&Object(_.jsxs)("button",{className:rt.a.itemAddBtn,onMouseEnter:function(e){d(!0)},onMouseLeave:function(e){d(!1)},onClick:function(){j(ge.addItem(Object(m.a)(Object(m.a)({},e.item),{},{amount:1})))},children:["Add To Cart",u&&Object(_.jsx)(He,{})]})]})},st=function(e){var t=Object(l.c)((function(e){return e.product.mainProducts})),n=ae().sendRequest;return Object(a.useEffect)((function(){t||n({url:"/api/products/mainproducts"},"mainProducts")}),[t,n]),t?t.map((function(t){return Object(_.jsxs)("section",{className:nt.a.itemsSection,children:[Object(_.jsxs)("div",{className:nt.a.top,children:[Object(_.jsx)("div",{className:nt.a.top_title,children:Object(_.jsx)("span",{children:t.category})}),Object(_.jsx)("hr",{className:nt.a.categoryHr}),Object(_.jsx)("div",{className:nt.a.link,children:Object(_.jsx)(r.b,{to:"/".concat(t.category),children:"View All"})})]}),Object(_.jsx)("div",{className:nt.a.content,children:t.items.map((function(t){return t?Object(_.jsx)(ct,{item:t,showItem:e.onShowItemHandler},t._id):null}))})]},t._id)})):Object(_.jsx)("div",{})},it=n(18),ot=n.n(it),lt=function(e){var t=Object(a.useState)(1),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(l.b)();return Object(_.jsx)(C,{hideModal:e.onHideModal,children:Object(_.jsxs)("div",{className:ot.a.itemContainer,children:[Object(_.jsx)("div",{className:ot.a.itemContainerLeft,children:Object(_.jsx)("img",{src:"".concat(e.item.image),alt:"".concat(e.item.name)})}),Object(_.jsxs)("div",{className:ot.a.itemContainerRight,children:[Object(_.jsxs)("span",{className:ot.a["itemContainerRight--top"],children:[Object(_.jsx)("span",{children:e.item.name}),Object(_.jsxs)("span",{className:ot.a["itemContainerRight--price"],children:["$",e.item.price*r]}),Object(_.jsx)("hr",{})]}),Object(_.jsxs)("div",{className:ot.a["itemContainerRight--description"],children:[Object(_.jsx)("span",{style:{fontWeight:"700",color:"black"},children:"Description"}),Object(_.jsx)("p",{children:e.item.description})]}),Object(_.jsxs)("div",{className:ot.a["itemContainerRight--bottom"],children:[Object(_.jsxs)("span",{className:ot.a.quantityBox,children:["Quantity",Object(_.jsx)("img",{src:je,alt:"",onClick:function(){c(0===r?0:r-1)}}),Object(_.jsx)("span",{children:r}),Object(_.jsx)("img",{src:de,alt:"",onClick:function(){c(r+1)}})]}),Object(_.jsx)("button",{className:ot.a.itemBtn,onClick:function(){s(ge.addItem(Object(m.a)(Object(m.a)({},e.item),{},{amount:r}))),e.onHideModal()},children:"Add to Cart"})]})]}),Object(_.jsx)("span",{className:ot.a.exitIcon,onClick:e.onHideModal,children:Object(_.jsx)("img",{src:w,alt:""})})]})})},ut=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(l.c)((function(e){return e.modal.showModalItem}));return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(Ve,{}),Object(_.jsx)(et,{}),Object(_.jsx)(st,{onShowItemHandler:function(e){c(e)}}),r&&s&&Object(_.jsx)(lt,{item:r,onHideModal:function(){c(null)}})]})},dt=n(49),jt=n.n(dt),mt=n(19),bt=n.n(mt),pt=n.p+"static/media/edit.76dc6c4e.svg",ht=n.p+"static/media/johndoe.c8a7bd9b.png",Ot=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(),s=Object(a.useRef)(),i=Object(l.c)((function(e){return e.auth})),u=i.user,d=i.token,j=ae().sendRequest;return Object(_.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n){var t=c.current.value.split(" ")[0],a=c.current.value.split(" ")[1],i=s.current.value;j(Z({token:d,firstName:t,lastName:a,email:i}),"updateContact")}r(!n)},className:bt.a.accountHeader,children:[Object(_.jsxs)("div",{className:bt.a.user,children:[Object(_.jsx)("img",{src:u.image?u.image:ht,alt:"profilePic"}),n?Object(_.jsxs)("span",{className:bt.a.userInfo,children:[Object(_.jsx)("input",{className:bt.a.userNameInput,type:"text",defaultValue:"".concat(u.firstName," ").concat(u.lastName),ref:c}),Object(_.jsx)("input",{className:bt.a.userEmailInput,type:"text",defaultValue:u.email,ref:s})]}):Object(_.jsxs)("span",{className:bt.a.userInfo,children:[Object(_.jsx)("span",{className:bt.a.userName,children:u.firstName?"".concat(u.firstName," ").concat(u.lastName):"---"}),Object(_.jsx)("span",{className:bt.a.userEmail,children:u.email})]})]}),Object(_.jsxs)("button",{className:bt.a.btnEditAccout,type:"submit",children:[Object(_.jsx)("img",{src:pt,alt:"edit"}),n?"Save":"Edit"," Account Info"]})]})},gt=n(8),ft=n.n(gt),_t=n(50),xt=n.n(_t),vt=function(e){return Object(_.jsx)("div",{className:xt.a.infoContet,children:e.inputConfigs.map((function(t){return Object(_.jsx)(k,{errors:e.errors,input:{type:"text",name:t.name,placeholder:t.placeholder,value:t.value,onChange:t.onChange,required:!0}},t.name)}))})},Ct=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],u=s[1],d=Object(a.useState)(!1),j=Object(o.a)(d,2),m=j[0],b=j[1],p=Object(l.c)((function(e){return e.auth})),h=p.user,O=p.token,g=re(ce),f=g.handleChange,x=g.handleSubmit,v=g.values,C=g.errors,y=Object(a.useRef)(),N=Object(a.useRef)(),S=ae().sendRequest,w=[{name:"billingAddressStreet",value:v.billingAddressStreet,onChange:f,placeholder:"Street"},{name:"billingAddressCity",value:v.billingAddressCity,onChange:f,placeholder:"City"},{name:"billingAddressCountry",value:v.billingAddressCountry,onChange:f,placeholder:"Country"},{name:"billingAddressZip",value:v.billingAddressZip,onChange:f,placeholder:"Zip Code"}],I=[{name:"shippingAddressStreet",value:v.shippingAddressStreet,onChange:f,placeholder:"Street"},{name:"shippingAddressCity",value:v.shippingAddressCity,onChange:f,placeholder:"City"},{name:"shippingAddressCountry",value:v.shippingAddressCountry,onChange:f,placeholder:"Country"},{name:"shippingAddressZip",value:v.shippingAddressZip,onChange:f,placeholder:"Zip Code"}],A=[{name:"creditNumber",value:v.creditNumber,onChange:f,placeholder:"Credit Number"},{name:"name",value:v.name,onChange:f,placeholder:"Name on Credit card"},{name:"expiry",value:v.expiry,onChange:f,placeholder:"Expiration date (MM/YY)"}],k=i?Object(_.jsx)(vt,{errors:C,inputConfigs:w}):Object(_.jsx)(a.Fragment,{children:""===h.billingAddress.street?Object(_.jsx)("h1",{style:{alignSelf:"center"},children:"---"}):Object(_.jsxs)("div",{className:ft.a.infoContet,children:[Object(_.jsx)("span",{children:h.billingAddress.street}),Object(_.jsx)("span",{children:h.billingAddress.city}),Object(_.jsx)("span",{children:h.billingAddress.country}),Object(_.jsx)("span",{children:h.billingAddress.zip})]})}),M=n?Object(_.jsx)(vt,{errors:C,inputConfigs:I}):Object(_.jsx)(a.Fragment,{children:""===h.shippingAddress.street?Object(_.jsx)("h1",{style:{alignSelf:"center"},children:"---"}):Object(_.jsxs)("div",{className:ft.a.infoContet,children:[Object(_.jsx)("span",{children:h.shippingAddress.street}),Object(_.jsx)("span",{children:h.shippingAddress.city}),Object(_.jsx)("span",{children:h.shippingAddress.country}),Object(_.jsx)("span",{children:h.shippingAddress.zip})]})}),B=m?Object(_.jsx)(vt,{errors:C,inputConfigs:A}):Object(_.jsxs)("div",{className:ft.a.infoContet,children:[""!==h.payment.creditNumber?Object(_.jsxs)("span",{children:["**** **** ****"," ",h.payment.creditNumber[h.payment.creditNumber.length-4],h.payment.creditNumber[h.payment.creditNumber.length-3],h.payment.creditNumber[h.payment.creditNumber.length-2],h.payment.creditNumber[h.payment.creditNumber.length-1]]}):Object(_.jsx)("h3",{style:{alignSelf:"center"},children:"---"}),h.payment.expiry?Object(_.jsxs)("span",{children:["Expiry: ",h.payment.expiry]}):null]});return Object(_.jsxs)("section",{className:ft.a.adressesPaymentInfo,children:[Object(_.jsxs)("div",{className:ft.a.infoBox,children:[Object(_.jsx)("span",{className:ft.a.infoContext,children:"Billing Address"}),Object(_.jsxs)("form",{className:ft.a.infoContentBox,onSubmit:function(e){e.preventDefault(),i&&x(e,"billingAddress"),u(!i),r(!1),b(!1)},children:[k,Object(_.jsxs)("button",{className:ft.a.btnEdit,type:"submit",children:[Object(_.jsx)("img",{src:pt,alt:"edit"}),i?"Save":"Edit"]})]})]}),Object(_.jsxs)("div",{className:ft.a.infoBox,children:[Object(_.jsx)("span",{className:ft.a.infoContext,children:"Shipping Address"}),Object(_.jsxs)("form",{className:ft.a.infoContentBox,onSubmit:function(e){if(e.preventDefault(),n){var t=N.current.elements.length-2,a={street:"".concat(N.current.elements[t-t].value),city:"".concat(N.current.elements[t-2].value),country:"".concat(N.current.elements[t-1].value),zip:"".concat(N.current.elements[t].value)};S(Z({token:O,shippingAddress:a}),"updateContact")}u(!1),r(!n),b(!1)},ref:N,children:[M,Object(_.jsxs)("button",{className:ft.a.btnEdit,type:"submit",children:[Object(_.jsx)("img",{src:pt,alt:"edit"}),n?"Save":"Edit"]})]})]}),Object(_.jsxs)("div",{className:ft.a.infoBox,children:[Object(_.jsx)("span",{className:ft.a.infoContext,children:"Payment Method"}),Object(_.jsxs)("form",{className:ft.a.infoContentBox,onSubmit:function(e){if(e.preventDefault(),m){var t=y.current.elements.length-2,n={creditNumber:"".concat(y.current.elements[t-t].value),name:"".concat(y.current.elements[t-1].value),expiry:"".concat(y.current.elements[t].value)};S(Z({token:O,payment:n}),"updateContact")}u(!1),r(!1),b(!m)},ref:y,children:[B,Object(_.jsxs)("button",{className:ft.a.btnEdit,type:"submit",children:[Object(_.jsx)("img",{src:pt,alt:"edit"}),m?"Save":"Edit"]})]})]})]})},yt=(n(28),n.p,function(){return Object(l.c)((function(e){return e.auth})).user?Object(_.jsxs)("div",{className:jt.a.container,children:[Object(_.jsx)(Ot,{}),Object(_.jsx)(Ct,{})]}):Object(_.jsx)("h1",{style:{alignSelf:"center"},children:"Please login or register"})}),Nt=function(){return Object(_.jsx)(yt,{})},St=n(29),wt=n.n(St),It=function(e){var t=Object(i.g)(),n=Object(i.h)(),r=new URLSearchParams(t.search),c=Object(l.b)(),s=Object(l.c)((function(e){return e.product})),o=s.categories,u=s.subCategories,m=s.items,b=ae().sendRequest,p=n.category,h=n.keywords,O=r.get("sub");Object(a.useEffect)((function(){if(o)if(u){if(!m||m.length<=0){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.find((function(e){return e.category===p}));case 2:t=e.sent,b(q(t._id),"items");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.find((function(e){return e.name===O}));case 2:t=e.sent,b((n=t._id,{url:"api/products/bysubcategory/".concat(n)}),"items");case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();h?function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(h),b(F(h),"items");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():O?t():e()}}else b({url:"/api/products/subcategories"},"subCategories");else b({url:"/api/products/categories"},"categories")}),[h,c,O,o,p,u,m,b]);var g=m?m.map((function(t){return Object(_.jsx)(ct,{item:t,showItem:e.onShowItemHandler,hideModal:e.onHideItemHandler},t._id)})):Object(_.jsx)(P,{});return Object(_.jsxs)("div",{className:wt.a.container,children:[Object(_.jsxs)("div",{className:wt.a.top,children:[Object(_.jsx)("div",{className:wt.a.top_title,children:Object(_.jsx)("span",{children:h?"Search results":p})}),Object(_.jsxs)("div",{className:wt.a.topSub,children:[O&&Object(_.jsx)("span",{children:O}),Object(_.jsx)("hr",{className:wt.a.categoryHr})]})]}),Object(_.jsx)("main",{className:wt.a.mainContent,children:g})]})},At=n(24),kt=n.n(At),Mt=function(e){return Object(_.jsx)("li",{className:kt.a.sideSubCategoryName,onClick:e.onSubCategoryHandler.bind(undefined,{category:e.category,subCategory:e.subCategory.name}),children:e.subCategory.name})},Bt=function(e){var t=Object(i.f)(),n=Object(l.c)((function(e){return e.http})),r=n.status,c=n.error,s=Object(l.c)((function(e){return e.product})).categories,o=ae().sendRequest;if(Object(a.useEffect)((function(){s||o({url:"/api/products/categories"},"categories")}),[s,o]),"pending"===r)return Object(_.jsx)(P,{});c&&console.log(c);var u=function(e){o(null,"clearItems"),t.push("/".concat(e.category,"?sub=").concat(e.subCategory))},d=s?s.map((function(e){var t=e.subCategories.map((function(t){return Object(_.jsx)(Mt,{subCategory:t,category:e.category,onSubCategoryHandler:u},t._id)}));return Object(_.jsxs)("section",{className:kt.a.categoryBox,children:[Object(_.jsxs)("span",{className:kt.a.categoryTop,children:[Object(_.jsx)("ul",{className:kt.a.sideCategoryName,children:e.category}),Object(_.jsx)("hr",{})]}),t]},e._id)})):null;return Object(_.jsx)("menu",{className:"".concat(kt.a.sideMenu," ").concat(e.menuButton?e.menuState?kt.a.active:kt.a.inactive:""),children:d})},Pt=n(25),Lt=n.n(Pt),Ht=function(e){return Object(_.jsxs)("div",{className:Lt.a.buttonContainer,onClick:function(){e.changeMenuState()},children:[Object(_.jsx)("div",{className:"".concat(Lt.a.bar1," ").concat(e.changeButton?Lt.a.change:null)}),Object(_.jsx)("div",{className:"".concat(Lt.a.bar2," ").concat(e.changeButton?Lt.a.change:null)}),Object(_.jsx)("div",{className:"".concat(Lt.a.bar3," ").concat(e.changeButton?Lt.a.change:null)})]})},Et=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),j=d[0],m=d[1],b=function(){r(null)},p=function(){window.innerWidth<=625?l(!0):l(!1)};return Object(a.useEffect)((function(){return p(),window.addEventListener("resize",p),function(){return window.removeEventListener("resize",p)}}),[]),Object(_.jsxs)("main",{className:"shopLayout",children:[Object(_.jsx)(It,{onShowItemHandler:function(e){r(e)},onHideItemHandler:b}),n&&Object(_.jsx)(lt,{item:n,onHideModal:b}),i&&Object(_.jsx)(Ht,{changeMenuState:function(){m(!j),console.log(j)}}),Object(_.jsx)(Bt,{menuState:j,menuButton:i})]})};var Rt=function(){var e=Object(l.c)((function(e){return e.http})),t=e.status,n=e.error,r=Object(l.c)((function(e){return e.product})),c=r.mainProducts,s=r.categories,o=Object(l.c)((function(e){return e.auth})),u=o.token,d=o.user,j=ae().sendRequest;return Object(a.useEffect)((function(){d||(u?j(function(e){return{url:"/api/users/profile",headers:{Authorization:"Bearer ".concat(e)}}}(u),"userDetails"):j(null,"checkLog")),s||j({url:"/api/products/categories"},"categories")}),[j,s,c,u,d]),"pending"===t?Object(_.jsx)(P,{}):n&&"completed"===t?Object(_.jsx)("p",{children:n}):Object(_.jsx)(Ge,{children:Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{path:"/",exact:!0,children:Object(_.jsx)(ut,{})}),Object(_.jsx)(i.a,{path:"/profile",children:Object(_.jsx)(Nt,{})}),Object(_.jsx)(i.a,{path:"/:category",exact:!0,children:Object(_.jsx)(Et,{})}),Object(_.jsx)(i.a,{path:"/search/:keywords",component:Et})]})})},Dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},qt=Object(b.a)({reducer:{cart:fe,auth:E,modal:O,http:U,product:J,order:ne}});s.a.render(Object(_.jsx)(r.a,{children:Object(_.jsx)(l.a,{store:qt,children:Object(_.jsx)(Rt,{})})}),document.getElementById("root")),Dt()}],[[63,1,2]]]);
//# sourceMappingURL=main.c097383d.chunk.js.map